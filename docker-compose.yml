version: '3'

services:
  web:
    image: node:20-slim
    volumes:
      - ./ev3:/app 
    ports:
      - 3000:3000
    working_dir: /app
    command: bash -c "yarn install && yarn start"
    networks:
      etransport:
         ipv4_address: 172.20.0.2
  api:
    build: ./api
    volumes:
      - ./api:/api
    ports:
      - 5000:5000
    networks:
      etransport:
         ipv4_address: 172.20.0.3
networks:
  etransport:
    external: true
